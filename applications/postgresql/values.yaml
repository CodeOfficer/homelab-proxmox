# PostgreSQL Bitnami Helm Chart values
# Uses local-path storage for performance, backup to Synology
# Pinned to control plane nodes (not GPU worker) for stability

auth:
  postgresPassword: "${POSTGRESQL_PASSWORD}"
  database: shared
  username: admin
  password: "${POSTGRESQL_PASSWORD}"

primary:
  persistence:
    storageClass: "local-path"
    size: 10Gi

  resources:
    requests:
      memory: 256Mi
      cpu: 100m
    limits:
      memory: 1Gi
      cpu: 500m

  # Run on control plane nodes only (not GPU worker)
  nodeSelector:
    node-role.kubernetes.io/control-plane: "true"

  # Allow scheduling on control plane (they have taints by default)
  tolerations:
    - key: "node-role.kubernetes.io/control-plane"
      operator: "Exists"
      effect: "NoSchedule"

architecture: standalone
